
* { box-sizing: border-box; }
body { font-family: system-ui, -apple-system, Segoe UI, Roboto, sans-serif; margin: 0; padding: 0; background: #f7f7f9; }
.jsok { position: fixed; top: 6px; right: 6px; background: #e6ffed; color: #0a5; border: 1px solid #b6f5c6; padding: 6px 10px; border-radius: 8px; z-index: 9999; }
.hidden { display: none; }

header { padding: 12px 16px 0; display:flex; align-items:flex-end; justify-content: space-between; gap: 8px; }
h1 { margin: 0 0 4px; font-size: 1.6rem; }
.tag { margin: 0 0 12px; color: #555; }
.head-right .pill { border-radius: 999px; border: 1px solid #eed; padding: 8px 12px; background: #fff7e6; font-weight: 600; }
main { padding: 8px 16px 80px; max-width: 900px; margin: 0 auto; }
.card { background: #fff; border: 1px solid #e5e5e5; border-radius: 12px; padding: 16px; margin: 12px 0; box-shadow: 0 1px 2px rgba(0,0,0,.04); }
.card.soft { background: #fafafa; }
.row { display: flex; gap: 8px; align-items: center; flex-wrap: wrap; }
select, input[type="text"], input[type="number"], button, textarea { padding: 10px; border-radius: 10px; border: 1px solid #ddd; font-size: 1rem; }
select, input { flex: 1; }
button { cursor: pointer; }
button.primary { background: #0d6efd; color: #fff; border: 1px solid #0d6efd; }
button.secondary { background: #f3f6ff; color: #0d47a1; }
button.secondary.small { padding: 6px 10px; font-size: .9rem; }
button.danger { background: #ffefef; color: #b00020; }
button.icon { background: #f5f5f5; border-radius: 8px; }
.counter { display: inline-flex; align-items: center; gap: 8px; }
.counter button { width: 44px; height: 44px; border-radius: 12px; }
.counter input { width: 80px; text-align: center; }
.stats { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 8px; }
.stats .label { color: #666; }
.estimates h3 { margin-bottom: 8px; }
#recentReports { margin-top: 8px; }
.report { border-top: 1px dashed #ddd; padding: 8px 0; display: flex; justify-content: space-between; gap: 8px; }
.report small { color: #666; }
footer { position: fixed; bottom: 0; left: 0; right: 0; background: #fff; border-top: 1px solid #eee; padding: 8px 16px; text-align: center; }

.reward-strip { display:flex; gap:8px; flex-wrap:wrap; align-items:center; padding:8px 10px; background:#fff7e6; border:1px solid #ffe0b2; border-radius:10px; margin:-6px 0 10px; color:#7a4a00; font-weight:600; }

.modal { position: fixed; inset: 0; background: rgba(0,0,0,.35); display: flex; align-items: center; justify-content: center; padding: 16px; }
.modal .modal-content { background: #fff; width: 100%; max-width: 560px; border-radius: 16px; padding: 16px; border:1px solid #eee; }
.modal .modal-head { display:flex; align-items:center; justify-content: space-between; }
.rewards-header { display:flex; align-items:center; justify-content: space-between; gap: 12px; padding: 8px 0 12px; }
.level-badge { background:#CD7F32; color:#fff; padding:6px 10px; border-radius:999px; font-weight:700; }
.points-big { font-size: 2rem; font-weight: 800; }
.stats-row { display:grid; grid-template-columns: repeat(3,1fr); gap:8px; padding:10px 0; }
.stats-row div { background:#fafafa; border:1px solid #eee; border-radius:10px; padding:10px; text-align:center; }
.stats-row div b { display:block; font-size:1.2rem; }
.progress-wrap { padding: 8px 0 16px; }
.progress-label { font-size: .95rem; color:#444; margin-bottom:6px; }
.progress { width:100%; height:12px; border-radius:999px; background:#f0f0f0; overflow:hidden; border:1px solid #e5e5e5; }
.progress-fill { height:100%; width:0%; background: linear-gradient(90deg, #fddc8f, #ffd35a, #ffbf00); transition: width .4s ease; }
.badges-grid { display:grid; grid-template-columns: repeat(4, 1fr); gap:10px; }
.badge { border:1px solid #eee; border-radius:12px; padding:10px; text-align:center; background:#fafafa; }
.badge.locked { opacity:.4; }
.center { text-align:center; margin-top: 12px; }

.toast { position: fixed; left: 50%; transform: translateX(-50%); bottom: 84px; background:#111; color:#fff; padding:10px 16px; border-radius:999px; opacity:0; transition: opacity .3s ease, bottom .3s ease; }
.toast.show { opacity:1; bottom: 100px; }

@media (max-width: 640px) {
  .stats { grid-template-columns: 1fr; }
  .stats-row { grid-template-columns: 1fr 1fr 1fr; }
}
